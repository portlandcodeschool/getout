<html>
<head>
	<meta charset="utf8">
	<link rel="stylesheet" type="text/css" href="css/jquery-ui.css">
	<script type='text/javascript' src='js/jquery-1.11.2.min.js'></script>
	<script type='text/javascript' src='js/jquery-ui.js'></script>
	<script type="text/javascript" src="js/underscore.js"></script>
	<script type="text/javascript" src="js/backbone.js"></script>


	<script type='text/javascript' src='js/eventful.js'></script>
	<script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>
    <style>
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }
    </style>
    <script>
		var map;
		var myCenter = new google.maps.LatLng(lat, lng);
		function initialize() {
		  var mapOptions = {
		    zoom: 14,
		    center: myCenter
		  };
		  map = new google.maps.Map(document.getElementById('map-canvas'),
		      mapOptions);
		}

		google.maps.event.addDomListener(window, 'load', initialize);

		function addMarker(lat,lng,desc) {
		  var infowindow = new google.maps.InfoWindow({
		      content: desc
		  });

		  var marker = new google.maps.Marker({
		      position: new google.maps.LatLng(lat, lng),
		      map: map//,
		      //title: 'Uluru (Ayers Rock)'
		  });
		  google.maps.event.addListener(marker, 'click', function() {
		    infowindow.open(map,marker);
		  });
		}


		
		function addResults(arr) {
			arr.forEach(function (event) {
				var desc = '<h2><a href="' + event.url[0] + '" target="_blank">' + event.title[0] + '</a></h2><br>';
				desc += event.description + '<br>';
				desc += '<strong>Time: </strong>' + event.start_time[0].split(' ')[1];
				desc += '<br><strong>Venue: </strong>' + event.venue_name[0];
				var eLat = Number(event.latitude);
				var eLng = Number(event.longitude);
				addMarker(eLat, eLng, desc);
			});
		}

 </script>
</head>
<body>

	   <div id="map-canvas"></div>	
</body>
</html>

